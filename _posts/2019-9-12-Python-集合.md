---
layout:     post
title:      Python 集合
subtitle:   
date:       2019-9-12
author:     Tangle
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Python
---

无序不重复，自动去重

set 集合必须是可哈希的自身是不可哈希的。

frozenset 集合必须是可哈希自身也是可哈希的与 set 相反。

# 创建集合

```python
>>> a = ['a', 'b', 'c', 1]
>>> b = set(a)
>>> b
{'b', 'c', 'a', 1}
>>> print(type(b))
<class 'set'>
```

# 访问集合

由于集合本身是无序的，所以不能为集合创建索引或切片操作，只能循环遍历或使用in，not in来访问或判断集合元素

```Python
>>> b = set(['a','b','c',1])
>>> '1' in a # 1在b中 # True
>>> '1' not in a # 1在b中 # False
```

# 更新集合

```Python
>>> b = set(['a','b','c',1])
# add为集合添加一个'666'元素
>>> b.add('666')
>>> b # {1, 'c', 'a', '666', 'b'}
# 把字符串qw分割加入集合内
>>> b.update('qw')
>>> b # {'q', 1, '666', 'c', 'b', 'w', 'a'}
# 列表内的元素分别加入集合内
>>> b.update(['d',2])
>>> b # {'q', 1, '666', 2, 'd', 'c', 'b', 'w', 'a'}
```

# 集合类型操作符

```python
>>> a = set([1,2,3,4,5])
>>> b = set([4,5,6,7,8])
```

| 语法                      | 字符   | 结果                     | 作用                               |
| :------------------------ | :----- | :----------------------- | :--------------------------------- |
| a.intersection(b)         | a & b  | {4, 5}                   | 交集（两个集合中都有的元素）       |
| a.union(b)                | a \| b | {1, 2, 3, 4, 5, 6, 7, 8} | 合集（两个集合合并到一起）         |
| a.difference(b)           | a - b  | {1, 2, 3}                | 差集（a中有的b中没有）             |
| a.symmetric_difference(b) | a ^ b  | {1, 2, 3, 6, 7, 8}       | 对称差集（两个集合中不重复的元素） |

# 关系测试

```Python
>>> set('abc') == set('abccc') # True
>>> set('abc') < set('abc') # False
# 只显示and后的集合
>>> set('abc') and set('cde') # {'e', 'c', 'd'}
# 只显示or前的集合
>>> set('abc') or set('cef') # {'c', 'b', 'a'}
```

# 删除集合

``` Python
# 创建列表并转换为集合
>>> a = set([1,2,3,4,5])
# 删除集合内的元素
>>> a.remove(3)
# 查看a集合
>>> a # {1, 2, 4, 5}
# 随机删除一个元素，并返回被删除的元素
>>> a.pop() # 1
# 清空集合
>>> a.clear()
# 查看a集合
>>> a # set()
# 删除集合
>>> del a
```
