---
layout:  post
title:   Python 视频
date:    2021-3-10
author:  Tangle
catalog: true
tags:
    - Python
---

# 安装

```
pip install moviepy
```

# 常用

```
from moviepy.editor import *

video = VideoFileClip("test0.mp4")
print(video.duration)        # 10.05 # 视频长度
video = video.subclip(5, 10) # 5-10秒
video = video.volumex(0.5)   # 音量的 0.5倍
video.write_videofile(
    "test1.mp4",     # 文件名
    fps=60,          # 帧数率
    remove_temp=True # 临时文件
)
```

# 叠加

```
from moviepy.editor import *

clip1 = VideoFileClip("test0.mp4")
clip0 = VideoFileClip("test1.mp4").subclip(5,10) # 5-10秒
clip0 = clip.volumex(0.5)                        # 音量的 0.5倍
clip1 = clip.volumex(2)                          # 音量的 2倍
video = CompositeVideoClip([clip0, clip1])       # 叠加索引 0 在最下
video.write_videofile("test2.mp4", fps=60, remove_temp=True) # 保存
```

## mov

```
from moviepy.editor import VideoFileClip, CompositeVideoClip

zm_video_path = "test.mov"

def add_zm(fg_in_bg_avi):
    clip0 = VideoFileClip(fg_in_bg_avi)
    clip1 = VideoFileClip(zm_video_path, has_mask=True)
    video = CompositeVideoClip([clip0, clip1])
    file_name = zm_video_path.split('.', 1)[0] + ".mp4"
    video.write_videofile(file_name, audio=False)
    video.close()

if __name__ == '__main__':
    add_zm("test.mp4") 
```

# 文档

<http://doc.moviepy.com.cn/>
