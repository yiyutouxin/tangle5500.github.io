---
layout:     post
title:      Windows FTP
subtitle:   
date:       2019-9-12
author:     Tangle
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Windows
---

# 服务端

Windows 7

## 创建用户

计算机 — 管理 — 本地用户和组 — 用户 — 右键空白处**新用户** — 设置**用户名**和**密码** — 勾选**用户不能更改密码**和**密码永久不过期**

## 开启服务

控制面板 — 程序和功能 — 打开或关闭 Windwos 功能 — 展开 **Internet 信息服务** — 勾选**FTP 服务器**下方的所有选项 — 勾选 **Web 管理工具**下方的**IIS 管理控制台**

## 创建服务

计算机 — 管理 — 服务和应用程序 — Internet 信息服务(IIS)管理 — 右键选择**添加 FTP 站点** — 设置随意名称和**内容目录** — 设置 **IP 地址**和端口默认 — **SSL** 勾选**允许** — 勾选**基本** — 选择**指定用户**下方填写刚创建的用户 — 勾选**读取**和**写入** —完成

## 内容目录

右键**属性** — 安全 — 编辑 — 添加 — 输入刚创建的用户名 — 确定 — 勾选**完全控制**的**允许**

## 防火墙

0. 控制面板 — 防火墙 — 允许程序或动能通过 Windows 防火墙 — 勾选**FTP 服务器**
1. 点击**允许运行另一程序** — **浏览**打开**C:\Windows\System32\svchost.exe**

## 测试

0. 浏览器中输入 **ftp://IP 地址**
1. 输入刚创建的用户名和密码

# 客户端


## 防火墙

控制面板 — 防火墙 — 允许程序或动能通过 Windows 防火墙 — 勾选**文件传送程序**

# 命令

## 基本命令

| 命令    | 作用                                     |
| ------- | ---------------------------------------- |
| ftp     | cmd 进入 ftp                             |
| bye     | 退出 ftp                                 |
| open ip | 与服务器连接                             |
| close   | 与服务器断开连接                         |
| ！      | 临时进入命令提示符下要返回 ftp 键入 exit |

## 查看命令

| 命令 | 作用                 |
| ---- | -------------------- |
| cd   | 切换目录             |
| dir  | 查看当前目录下的文件 |

## 下载命令

| 命令 | 作用             |
| ---- | ---------------- |
| lcd  | 更改本地工作路径 |
| get  | 下载文件         |
| mget | 下载多个文件     |

## 上传命令

| 命令   | 语法     |
| ------ | -------- |
| append | 上传文件 |

## 删除命令

| 命令 | 作用 |
| ---- | ---- |
| del  | 删除 |

# 批处理

| 参数 | 作用                                                         |
| ---- | ------------------------------------------------------------ |
| -i   | 在多个文件传输期间关闭交互提示                               |
| -s   | 文件名指定包含 ftp 命令的文本文件。在 ftp 命令启动后将自动运行这些命令。在加的参数里不能有空格 |

| 命令              | 作用         |
| ----------------- | ------------ |
| ftp -i -s:ftp.tmp | ftp 执行文件 |

```
rem .bat
echo open 192.168.1.1>>ftp.tmp
echo username>>ftp.tmp
echo password>>ftp.tmp
echo get data.xls>>ftp.tmp
echo bye>>ftp.tmp
ftp -i -s:ftp.tmp
del ftp.tmp
start data.xls
```

# 映射网络驱动器

0. 此电脑
0. 打开**映射网络驱动器**
1. 点击下方的**连接到可用于存储文档和图片的网站**然后下一步
3. 在 **internet 地址或网络地址**输入 **ftp://IP 地址**
4. 用户名
5. 随意名称
