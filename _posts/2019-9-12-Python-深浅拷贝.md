---
layout:     post
title:      Python 深浅拷贝
subtitle:   
date:       2019-9-12
author:     Tangle
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Python
---

# 浅拷贝

``` Python
>>> a = [['c','d'],'e','f']

# 拷贝a内容
>>> b = a.copy()
>>> b # [['c', 'd'], 'e', 'f']
>>> a = [['c','d'],'e','f']

# 拷贝a内容
>>> b = a[:]
>>> b # [['c', 'd'], 'e', 'f']
```

浅拷贝只能拷贝最外层，修改内层则原列表和新列表都会变化

``` Python
#修改外层
>>> a = [['c','d'],'e','f']
# 拷贝a内容
>>> b = a.copy()
>>> b # [['c', 'd'], 'e', 'f']
# 修改列表
>>> b[1]='w'
# b变化了，a没有变化
>>> a,b # ([['c', 'd'], 'e', 'f'], [['c', 'd'], 'w', 'f'])

# 修改内层
>>> a = [['c','d'],'e','f']
# 拷贝a内容
>>> b = a.copy()
>>> b # [['c', 'd'], 'e', 'f']
# 修改拷贝b列表中的列表元素
>>> b[0][1]='w'
# a，b中的值都有变化
>>> a,b # ([['c', 'w'], 'e', 'f'], [['c', 'w'], 'e', 'f'])
```

# 深拷贝

```Python
>>> import copy
>>> a = [['c','d'],'e','f']
# 拷贝a列表
>>> b = copy.deepcopy(a)
>>> b # [['c', 'd'], 'e', 'f']
```

深拷贝是指将原列表完全克隆一份新的

```Python
#修改内层

>>> import copy
# 创建列表
>>> a = [['c','d'],'e','f']
# 拷贝a列表
>>> b = copy.deepcopy(a)
>>> b # [['c', 'd'], 'e', 'f']
>>> b[0][1]='q'
# b有变化，a没有变化
>>> a,b # ([['c', 'd'], 'e', 'f'], [['c', 'q'], 'e', 'f'])
```
