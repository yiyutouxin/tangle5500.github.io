---
layout:     post
title:      Vim 正则表达式
date:       2020-9-22
author:     Tangle
catalog: true
tags:
    - Vim
---

# 替换

```
g # 全局替换
i # 大小写不敏感
I # 大小写敏感
c # 确认
e # 不显示错误
```

```
:.,+2s/1/2/g  # 当前行至 +2 行 1 替换成 2，g 为所有出现都会被替换
:s/1/2        # 当前行匹配的第一个 1 替换成 2
:s/1/2/g      # 当前行所有 1 替换成 2，g 为所有出现都会被替换
:%s/1/2/g     # 全文 1 替换成 2，g 为所有出现都会被替换
:'<,'>s/1/2/g # 选区 1 替换成 2，g 为所有出现都会被替换
```

# 正则表达式

| 转义 | 正类           | 作用 | 负转义 | 负类            | 作用   |
| ---- | -------------- | ---- | ------ | --------------- | ------ |
| `\d` | `[0-9]`        | 数字 | `\D`   | `[^0-9]`        | 非数字 |
| `\l` | `[a-z]`        | 小写 | `\L`   | `[^a-z]`        | 非小写 |
| `\u` | `[A-Z]`        | 大写 | `\U`   | `[^A-Z]`        | 非小写 |
| `\s` | `[\t]`         | 空白 | `\S`   | `[^\t]`         | 非空白 |
| `\w` | `[A-Za-z0-9_]` | 单词 | `\W`   | `[^A-Za-z0-9_]` | 非单词 |

```
.      # 任何字符
^      # 行首
$      # 行尾

*      # 0 次或多次
\+     # 1 次或多次
\?     # 0 次或 1 次

[abc]  # 匹配 abc 任意单个字符
[^abc] # 匹配非 abc 任意单个字符
\{0,1} # 指定前面的字符或分组的出现次数
\(\)   # 分组匹配影响表达式匹配顺序
```

# 例子

```
# 文本
https://www.google.com
https://www.baidu.com

# 正则
:.,2s/\(https\?:\/\/\)\(www\.*\.com\)/\2 # 替换当前行至第 2 行

# 结果
www.google.com
www.baidu.com
```
