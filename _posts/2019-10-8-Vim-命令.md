---
layout:     post
title:      Vim 命令
subtitle:
date:       2019-10-8
author:     Tangle
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Vim
---

# 多文件打开与切换

```
:e f:\demo.py      # 打开一个文件
:tabnew f:\demo.py # 打开一个标签
:bn                # 下一个文件
:bp                # 上一个文件
:b3                # 切换至第 3 个文件
:b3.py             # 切换至 3.py 文件
:ls                # 列出打开的文件，带序号
:bd!               # 关闭当前文件不关闭 gvim 窗口
:close             # 关闭窗口
```

# 光标移动

```
10 + enter # 向下移动 10 行
^ | 0      # 移至当前行的开头位置
$          # 移至当前行的结尾位置
w          # 将光标移到下一个单词的开头（W 包含标点符号）
b          # 将光标移到上一个单词的开头（B 包含标点符号）
(          # 将光标移到当前或上一句子的开头
)          # 将光标移到下一句子的开头
{          # 将光标移到上一段落的开头
}          # 将光标移到下一段落的开头
ctrl + f   # 下一页
ctrl + b   # 上一页
```

# 插入模式

```
i # 光标前插入
I # 行首插入
a # 光标后插入
A # 行尾插入
R # 光标前替换
o # 下方新开一行
O # 上放新开一行
```

# 撤销与重做

```
u        # 退回前一个动作
ctrl + r # 重复前一个动作
:e!      # 还原上次保存的状态
```

# 删除与剪切

```
x   # 向后删除一个字符
X   # 向前删除一个字符
dd  # 剪切光标所在的那一行
d$  # 删除当前行光标后的内容
ndd # 剪切光标所在的向下n行（n为数字）
D   # 剪切光标所在行的内容（不删除行）
d1G # 剪切光标所在行到第一行的所有数据，包含当行
dG  # 剪切光标所在行到末行的所有数据，包含当行
```

# 查找与替换

在正常模式下按  / 即可进入查找模式

```
/demo # 查找 demo，按 n 下一个，按 N 上一个
```

```
""" 替换标志 """
g   # 全局替换
i   # 大小写不敏感
I   # 大小写敏感
gc  # 确认
```

```
:s/1/2/g      # 当前行 1 替换成 2，g 为所有出现都会被替换
:%s/1/2/g     # 全文 1 替换成 2，g 为所有出现都会被替换
:'<,'>s/1/2/g # 选区 1 替换成 2，g 为所有出现都会被替换
:.,+2s/1/2/g  # 当前行至 +2 行1 替换成 2，g 为所有出现都会被替换
```

# 可视化模式

0. 切换模式
    ```
    v        # 字符可视化模式
    V        # 行可视化模式
    ctrl + q # 块可视化模式
    ```
0. 选择
    ```
    kjhl # 上下左右
    10   # 向下 10 行
    g    # 文档开头
    G    # 文档末尾
    ```
0. 插入或替换
    ```
    shift + i # 插入
    c         # 替换
    ```
0. Esc

# 复制粘贴

```
yy            # 复制当前行
2yy           # 复制两行
y2w           # 复制两个单词
p             # 光标后粘贴
P             # 光标前粘贴
shift + inset # 粘贴剪切板内容
```

# 注释与取消注释

0. 命令行模式下光标固定在第一列 Ctrl + q 进入可视化块模式
0. shift + 上下移动光标选择要注释的行
0. 大写 i 进入插入模式然后输入注释符 #
0. 按两次 esc 就注释成功了
0. 取消注释同样操作前两步骤，选中后按 d 删除

# 多行缩进

shift + v 进入可视化模式上下选择需要缩进或取消缩进的行 shift + < 或者 shift + > 即可

# 分割窗口

```
:vs          # 纵向分隔
:sp          # 横向分隔
ctrl + w + w # 切换窗口
:qa          # 关闭所有窗口
```

# 保存文件与退出

```
:w  # 保存当前文件并留在编辑器中
:w！# 若文本为只读模式，强制保存
:q  # 退出当前文件，仅在没有未保存更改的情况下
:q! # 退出当前文件，忽略任何未保存的修改
:wq # 保存并退出当前文件
ZZ  # 保存并退出当前文件
```

# 折行

```text
<spase> # 开关单行折行
zi      # 开关所有折行
```
