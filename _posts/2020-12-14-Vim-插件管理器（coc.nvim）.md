---
layout:  post
title:   Vim 插件管理器（coc.nvim）
date:    2020-12-14
author:  Tangle
catalog: true
tags:
    - Vim
---

# 插件管理器（vim-plug）

```
:PlugInstall # 安装
```

## Ubuntu

0. Windows 7 git
    ```
    curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
        https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    ```
0. 安装
    ```
    ~/.vim/autoload/plug.vim
    ```
0. `_vimrc`
    ```
    call plug#begin('~/.vim/bunble')

    Plug 'neoclide/coc.nvim', {'branch': 'release'}

    call plug#end()
    ```

## Windows

0. Windows 7 git
    ```
    curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
        https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    ```
0. 安装
    ```
    $HOME/vimfiles/autoload/plug.vim
    ```
0. `.vimrc`
    ```
    call plug#begin('$vim\vimfiles\bundle')

    Plug 'neoclide/coc.nvim', {'branch': 'release'}

    call plug#end()
    ```

# 插件管理器（coc.nvim）

项目 <https://github.com/neoclide/coc.nvim/tree/release>

```
:CocInstall [插件名]   # 安装插件
:CocUninstall [插件名] # 卸载插件
:h coc-nvim            # 帮助
:CocInstall coc-json   # coc-json
:coc-tsserver          # 语言服务器支持
:CocConfig             # 语言服务器配置
:CocInstall coc-python # python 补全
```

## Ubuntu

0. 安装 `node`
0. 安装 `coc.nvim`
    ```
    Plug 'neoclide/coc.nvim', {'branch': 'release'}
    ```
0. 安装 python 补全 <https://github.com/neoclide/coc-python>
    ```
    :CocInstall coc-python # 安装 coc-python
    ```
0. `.vim/coc-settings.json`
    ```
    {
        "jedi.enable": true,
        "languageserver": {
          "python": {
            "command": "python",
            "args": [
              "-mpyls",
              "-vv",
              "--log-file",
              "/tmp/lsp_python.log"
            ],
            "trace.server": "verbose",
            "filetypes": [
              "python"
            ],
            "settings": {
              "pyls": {
                "enable": true,
                "trace": {
                  "server": "verbose"
                },
                "commandPath": "",
                "configurationSources": [
                  "pycodestyle"
                ],
                "plugins": {
                  "jedi_completion": {
                    "enabled": true
                  },
                  "jedi_hover": {
                    "enabled": true
                  },
                  "jedi_references": {
                    "enabled": true
                  },
                  "jedi_signature_help": {
                    "enabled": true
                  },
                  "jedi_symbols": {
                    "enabled": true,
                    "all_scopes": true
                  },
                  "mccabe": {
                    "enabled": true,
                    "threshold": 15
                  },
                  "preload": {
                    "enabled": true
                  },
                  "pycodestyle": {
                    "enabled": true
                  },
                  "pydocstyle": {
                    "enabled": false,
                    "match": "(?!test_).*\\.py",
                    "matchDir": "[^\\.].*"
                  },
                  "pyflakes": {
                    "enabled": true
                  },
                  "rope_completion": {
                    "enabled": true
                  },
                  "yapf": {
                    "enabled": true
                  }
                }
              }
            }
          }
        }
    }
    ```
