---
layout:     post
title:      Vim 配置
date:       2019-10-13
author:     Tangle
catalog: true
tags:
    - Vim
---

```
set fileencoding=utf-8                                                             " 当前文件设置为 utf-8 编码
set nu                                                                             " 行号开关
set rnu                                                                            " 相对行号
set wrap!                                                                          " 关闭词折行
colorscheme monokai                                                                " 代码高亮
syntax on                                                                          " 语法自动
set nocompatible                                                                   " 可以回退多步
set guioptions-=m                                                                  " 隐藏菜单栏
set guioptions-=T                                                                  " 隐藏工具栏
set guioptions-=r                                                                  " 隐藏右侧滚动条
set ai                                                                             " 自动缩进
set sts=4                                                                          " 缩进 4 个空格
set ts=4                                                                           " tab 缩进 4个空格
set shiftwidth=4                                                                   " shift 缩进 4 个空格
set expandtab                                                                      " 智能补充缩进
set autoindent                                                                     " 自动缩进
set guifont                                                                        " 查询当前字体
set gfn=Microsoft_YaHei_Mono:h11:cGB2312                                           " 设置字体
set ruler<br/>set rulerformat=%20(%2*%<%f%=\ %m%r\ %3l\ %c\ %p%%%)                 " 在状态行上显示光标所在位置的行号和列号
set cmdheight=2                                                                    " 末行命令行高度
set backspace=2                                                                    " 使用回格键（backspace）
set ignorecase                                                                     " 在搜索的时候忽略大小写
set laststatus=2                                                                   " 总是显示状态行
autocmd GUIEnter * simalt ~x                                                       " 窗口最大化
set lines=37 columns=120                                                           " 窗口自定义大小
map \<F11> \<Esc>:call libcallnr("gvimfullscreen.dll", "ToggleFullScreen", 0)\<CR> " 全屏
```

# gvim

## tab 缩进为 4个空格

```
set ts=4       " 缩进 4个空格
set expandtab  " 智能补充缩进
set autoindent " 自动缩进
```

## 一键执行脚本

```
!  # 执行命令
%  # 当前打开文件含后缀名的绝对路径
%< # 当前打开文件绝对路径中不含后缀的文件名
```

```
func CompileRun()
    exec "w"
    if &filetype == "python"  
        exec " !python % "
    elseif &filetype == "c"
        exec " !gcc % -o %< "
        exec " !%< "
    elseif &filetype == "cpp"
        exec " !g++ % -o %< "
        exec " !%< "
    elseif &filetype == "java"
        exec " !javac % "
        exec " !java % "
    elseif &filetype == "html"
        exec " !% "
    elseif &filetype == "go"
        exec " !go run % "
    endif
endfunc
map <F9> :call CompileRun()<CR> 
```

## 字典补全

0. _vimrc
    ```
    set dictionary=$vim\dict.txt # 设置字典路径
    ```
0. 快捷键
    ```
    ctrl + x ctrl + k # 补全目录
    ```
0. dict.txt
    ```
    English
        read write easy
    python
        print
    ```

# vim

## .vimrc

```
" /root/.vimrc " 管理员目录
" ~/.vimrc     " 用户目录

set nu         " 行号
" set cursorline " 突出显示当前行
" set mouse=a    " 在任何模式下启用鼠标

" 代码高亮
syntax enable
colorscheme monokai

" 执行
func CompileRun()
    exec "w"
    if &filetype == "python"  
        exec " !python3 % "
    elseif &filetype == "c"
        exec " !gcc % -o %< "
        exec " !%< "
    elseif &filetype == "cpp"
        exec " !g++ % -o %< "
        exec " !%< "
    elseif &filetype == "java"
        exec " !javac % "
        exec " !java % "
    elseif &filetype == "html"
        exec " !% "
    elseif &filetype == "go"
        exec " !go run % "
    endif
endfunc
map <F9> :call CompileRun()<CR>

" 缩进
set ts=4         " 缩进 4个空格
set expandtab    " 智能补充缩进
set autoindent   " 自动缩进
set shiftwidth=4 " shift 缩进

" 缩进快捷键
nmap <tab> V>
nmap <S-tab> V<
vmap <tab> >gv
vmap <s-tab> <gv

" 插入模式下光标移动
imap <c-k> <Up>
imap <c-j> <Down>
imap <c-h> <Left>
imap <c-l> <Right>

" 折叠
set foldenable                                                     " 启用折叠
set foldmethod=indent                                              " indent 折叠方式
nnoremap <space> @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')<CR> " 空格折叠
```

## 代码高亮

0. 下载 <https://github.com/sickill/vim-monokai>
0. 拷贝文件
    ```
    /root/.vim/color/monokai.vim # 管理员目录
    ~/.vim/color/monokai.vim     # 用户目录
    ```
0. 执行命令
    ```
    vim /root/.vim/color/monokai.vim # 管理员目录
    vim ~/.vim/color/monokai.vim     # 用户目录
    :set ff=unix                     # 使用 unix 换行符
    ```

## 代码补全

0. 浏览 <https://github.com/rkulla/pydiction>
0. 安装
    ```
    cd ~/.vim/bundle
    git clone https://github.com/rkulla/pydiction.git
    cp -r ~/.vim/bundle/pydiction/after ~/.vim
    ```
0. Tab 补全
