---
layout:     post
title:      B站 视频投稿
date:       2020-10-16
author:     Tangle
catalog: true
tags:
    - B站
---

# 获取登录Cookies

0. <https://gitee.com/nbodyfun/bilibili_video_uploader>
0. <https://gitee.com/tangle5500/bilibili_video_uploader>
0.  查看网站信息 — Cookie — bilibili.com — Cookie
    ```
    SESSDATA
    bili_jct
    ```

# 例子

```
-sd [SESSDATA] # SESSDATA
-bj [bili_jct] # bili_jct
-s [SOURCE]    # 来源声明
-t [TITLE]     # 标题
[video_path]   # 视频文件
```

```
python bilibili_up.py -sd [SESSDATA] -bj [bili_jct] -t [TITLE] -s [SOURCE] [video_path]
```

# 成品

```
import subprocess,os

bilibili_up_path = r"C:\Users\CCG\Desktop\bilibili_video_uploader"      # bilibili_up_path 路径
path = r"C:\Users\CCG\Desktop\123"                                      # vedio 路径

def bilibili():
    _sd = ''                                                            # SESSDATA
    _bj = ''                                                            # bili_jct
    _title = os.listdir(path)[0].split('.mp4',1)[0].split('_____',1)[1] # 标题
    _id = os.listdir(path)[0].split('.mp4',1)[0].split('_____',1)[0]    # id
    _s = "https://m.weibo.cn/detail/" + _id                             # 来源声明和视频描述
    _video_path = os.listdir(path)[0]                                   # 视频文件
    _cd = f"cd /d {path}"                                               # 切换工作路径
    _bilibili_up = bilibili_up_path + r"bilibili_up.py"                 # bilibili_up_path 文件

    _cmd = f'{_cd} & python "{_bilibili_up} -sd "{_sd}" -bj "{_bj}" -t "{_title}" -s "{_s}" "{_video_path}"'
    subprocess.call(_cmd, shell=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)

bilibili()
```
